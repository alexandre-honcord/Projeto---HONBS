{% extends "logged.html" %}
{% block title %}
    Doador
{% endblock %}
{% load static %}
{% block contents %}
<link rel="stylesheet" href="{% static 'css/donator.css' %}"/>
<link rel="stylesheet" href="{% static 'css/header.css' %}"/>

<br>
<div class="back-button-container">
    <a href="javascript:history.back()" class="back-button">
        <i class="fas fa-arrow-left"></i> Voltar
    </a>
</div>
<br>
<div class="header">
    <div class="header-left">
        <h2>DOADOR</h2>
        <div class="header-left-grid">
            <div>
                <p><strong>Nome:</strong> João da Silva</p>
                <p><strong>Nome da Mãe:</strong> Maria da Silva</p>
            </div>
            <div>
                <p><strong>Data de Nasc.:</strong> 12/03/1985</p>
                <p><strong>Sexo:</strong> Masculino</p>
            </div>
        </div>
    </div>
    <div class="header-right">
        <h2 class="blood-type">AB+</h2>
    </div>
</div>
<!-- Aba Navigation -->
<div class="tab-container">
    <button class="tab-btn active" onclick="openTab(event, 'dados')">Dados</button>
    <button class="tab-btn" onclick="openTab(event, 'contato')">Contato</button>
    <button class="tab-btn" onclick="openTab(event, 'imuno-hemato')">Imuno/Hemato</button>
    <button class="tab-btn" onclick="openTab(event, 'historico')">Histórico</button>
    <button class="tab-btn" onclick="openTab(event, 'alerta')">Alertas</button>
</div>

<div id="dados" class="data-section tab-content" style="display: block;">
    <h3 class="dados-doador">Dados do Doador</h3>
    <br>
    <div class="form-container">
        <form class="donator-form">
            <div class="form-group">
                <label for="nome">Nome:</label>
                <input type="text" id="nome" value="João da Silva" readonly>
            </div>
            <div class="form-group">
                <label for="profissao">Profissão:</label>
                <input type="text" id="profissao" value="Engenheiro" readonly>
            </div>
            <div class="form-group">
                <label for="nome_mae">Nome da Mãe:</label>
                <input type="text" id="nome_mae" value="Maria da Silva" readonly>
            </div>
            <div class="form-group">
                <label for="nome_pai">Nome do Pai:</label>
                <input type="text" id="nome_pai" value="José da Silva" readonly>
            </div>
            <div class="form-group">
                <label for="data_nascimento">Data de Nascimento:</label>
                <input type="date" id="data_nascimento" value="1985-03-12" readonly>
            </div>
            <div class="form-group">
                <label for="nacionalidade">Nacionalidade:</label>
                <input type="text" id="nacionalidade" value="Brasileiro" readonly>
            </div>
            <div class="form-group">
                <label for="sexo">Sexo:</label>
                <input type="text" id="sexo" value="Masculino" readonly>
            </div>
            <div class="form-group">
                <label for="estado_civil">Estado Civil:</label>
                <input type="text" id="estado_civil" value="Solteiro" readonly>
            </div>
            <div class="form-group">
                <label for="etnia">Etnia:</label>
                <input type="text" id="etnia" value="Pardo" readonly>
            </div>
            <div class="form-group">
                <label for="cpf">CPF:</label>
                <input type="text" id="cpf" value="123.456.789-00" readonly>
            </div>
            <div class="form-group">
                <label for="rg">RG:</label>
                <input type="text" id="rg" value="1234567" readonly>
            </div>
            <div class="form-group">
                <label for="orgao_expedidor">Órgão Expedidor:</label>
                <input type="text" id="orgao_expedidor" value="SSP-GO" readonly>
            </div>
            <div class="form-group">
                <label for="convenio">Convênio:</label>
                <input type="text" id="convenio" value="Unimed" readonly>
            </div>
            <div class="form-group">
                <label for="observacao">Observação:</label>
                <textarea id="observacao" readonly>Paciente regular sem restrições.</textarea>
            </div>
            <div class="form-group">
                <label for="doador_relacionado">Doador Relacionado:</label>
                <input type="text" id="doador_relacionado" value="Carlos da Silva" readonly>
            </div>
            <div class="form-group">
                <label for="paciente_relacionado">Paciente Relacionado:</label>
                <input type="text" id="paciente_relacionado" value="Paulo Souza" readonly>
            </div>
            <div class="form-group">
                <label for="usuario_cadastro">Usuário que fez o cadastro:</label>
                <input type="text" id="usuario_cadastro" value="Admin01" readonly>
            </div>
            <div class="form-group">
                <label for="data_cadastro">Data do Cadastro:</label>
                <input type="datetime-local" id="data_cadastro" value="2023-11-30T15:30" readonly>
            </div>
            <div class="form-group">
                <label for="ativo">Ativo:</label>
                <input type="checkbox" id="ativo" checked disabled>
            </div>
        </form>
    </div>
</div>

<div id="contato" class="contact-section tab-content" style="display: none;">
    <!-- Telefones -->
    <div class="form-section">
        <br>
        <div class="form-grid two-columns">
            <label>
                Tel. Pessoal
                <input type="text" name="tel_pessoal" placeholder="(XX) XXXX-XXXX">
            </label>
            <label>
                Celular
                <input type="text" name="celular" placeholder="(XX) XXXXX-XXXX">
            </label>
            <label>
                Tel. Profissional
                <input type="text" name="tel_profissional" placeholder="(XX) XXXX-XXXX">
            </label>
            <label>
                Tel. Complementar
                <input type="text" name="tel_complementar" placeholder="(XX) XXXX-XXXX">
            </label>
        </div>
    </div>
    <br>
    <hr>
    <br>
    <!-- Email -->
    <div class="form-section">
        <br>
        <div class="form-grid two-columns">
            <label>
                Email Pessoal
                <input type="email" name="email_pessoal" placeholder="exemplo@email.com">
            </label>
            <label>
                Email Profissional
                <input type="email" name="email_profissional" placeholder="exemplo@empresa.com">
            </label>
        </div>
    </div>
    <br>
    <hr>
    <br>
    <!-- Endereço Residencial -->
    <div class="form-section">
        <br>
        <div class="form-grid two-columns">
            <label>
                CEP
                <input type="text" name="cep_residencial" placeholder="XXXXX-XXX">
            </label>
            <label>
                Logradouro
                <input type="text" name="logradouro_residencial" placeholder="Rua, Avenida...">
            </label>
            <label>
                Complemento
                <input type="text" name="complemento_residencial">
            </label>
            <label>
                N°
                <input type="text" name="numero_residencial">
            </label>
            <label>
                Cidade
                <input type="text" name="cidade_residencial">
            </label>
            <label>
                Estado
                <input type="text" name="estado_residencial">
            </label>
            <label>
                Bairro
                <input type="text" name="bairro_residencial">
            </label>
            <label>
                País
                <input type="text" name="pais_residencial">
            </label>
        </div>
    </div>
    <br>
    <hr>
    <br>
    <!-- Endereço Profissional -->
    <div class="form-section">
        <br>
        <div class="form-grid two-columns">
            <label>
                CEP
                <input type="text" name="cep_profissional" placeholder="XXXXX-XXX">
            </label>
            <label>
                Logradouro
                <input type="text" name="logradouro_profissional" placeholder="Rua, Avenida...">
            </label>
            <label>
                Complemento
                <input type="text" name="complemento_profissional">
            </label>
            <label>
                N°
                <input type="text" name="numero_profissional">
            </label>
            <label>
                Cidade
                <input type="text" name="cidade_profissional">
            </label>
            <label>
                Estado
                <input type="text" name="estado_profissional">
            </label>
            <label>
                Bairro
                <input type="text" name="bairro_profissional">
            </label>
            <label>
                País
                <input type="text" name="pais_profissional">
            </label>
        </div>
    </div>
    <br>
    <hr>
    <br>
    <!-- Endereço Principal -->
    <div class="form-section">
        <h4>Endereço Principal</h4>
        <br>
        <label>
            <input type="radio" name="endereco_principal" value="residencial" checked>
            Residencial
        </label>
        <label>
            <input type="radio" name="endereco_principal" value="profissional">
            Profissional
        </label>
    </div>
</div>

<div id="imuno-hemato" class="imuno-section tab-content" style="display: none;">
    <h3>Imuno/Hemato</h3>
    <br>
    <div class="form-container">
        <form class="donator-form">
            <div class="form-group">
                <label for="tipo_sanguineo">Tipo Sanguíneo:</label>
                <input type="text" id="tipo_sanguineo" value="AB" readonly>
            </div>
            <div class="form-group">
                <label for="fator_rh">Fator RH:</label>
                <input type="text" id="fator_rh" value="Positivo" readonly>
            </div>
            <div class="form-group">
                <label for="fenotipo">Fenótipo:</label>
                <input type="text" id="fenotipo" value="CcD.eeK-" readonly>
            </div>
            <div class="form-group">
                <label for="cde">CDE:</label>
                <input type="text" id="cde" value="+" readonly>
            </div>
            <div class="form-group">
                <label for="hemoglobina">Hemoglobina:</label>
                <input type="text" id="hemoglobina" value="Ausente" readonly>
            </div>
            <div class="form-group">
                <label for="dfraco">D Fraco:</label>
                <input type="text" id="dfraco" value="Ausente" readonly>
            </div>
            <div class="form-group">
                <label for="faalcizacao">Teste Falcização:</label>
                <input type="text" id="faalcizacao" value="Ausente" readonly>
            </div>
            <div class="form-group">
                <label for="pai">P.A.I:</label>
                <input type="text" id="pai" value="Negativo" readonly>
            </div>
            <div class="form-group">
                <label for="especial">Doador Especial:</label>
                <input type="checkbox" id="ativo" checked>
            </div>
            <div class="form-group">
                <label for="neo">Doador Neo/Pediatra:</label>
                <input type="checkbox" id="ativo" checked>
            </div>
        </form>
    </div>
</div>

<div id="historico" class="history-section tab-content" style="display: none;">
    <!-- Histórico de Doações -->
    <div class="history-table">
        <h3>Histórico de Doações</h3>
        <br>
        <table id="history-table">
            <thead>
                <tr>
                    <th>Cód. Doação</th>
                    <th>Tipo Doação</th>
                    <th>Data/Hora Recepção</th>
                    <th>Condição</th>
                    <th>Conduta</th>
                    <th>Detalhes</th>
                    <th>Imprimir</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>D12345</td>
                    <td>Voluntária</td>
                    <td>2023-12-01 14:30</td>
                    <td>Aprovado</td>
                    <td>Processamento</td>
                    <td><i class="fa-regular fa-clipboard" onclick="viewDetails('D12345')"></i></td>
                    <td><i class="fa-solid fa-print" onclick="printDonation('D12345')"></i></td>
                </tr>
                <tr>
                    <td>D67890</td>
                    <td>Reposição</td>
                    <td>2023-12-02 10:15</td>
                    <td>Reprovado</td>
                    <td>Descarte</td>
                    <td><i class="fa-regular fa-clipboard" onclick="viewDetails('D67890')"></i></td>
                    <td><i class="fa-solid fa-print" onclick="printDonation('D67890')"></i></td>
                </tr>
                <tr>
                    <td>D11223</td>
                    <td>Autóloga</td>
                    <td>2023-12-03 08:45</td>
                    <td>Aprovado</td>
                    <td>Transfusão</td>
                    <td><i class="fa-regular fa-clipboard" onclick="viewDetails('D11223')"></i></td>
                    <td><i class="fa-solid fa-print" onclick="printDonation('D11223')"></i></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div id="alerta" class="alerts-section tab-content" style="display: none;">
    <h3>Alertas Transfusionais</h3>
    <br>
    <div class="alert-container">
        <div class="alert transfusional">
            <h4>Alto Risco de Reação Transfusional</h4>
            <p>Histórico de reações graves a transfusões anteriores.</p>
        </div>
        <div class="alert transfusional">
            <h4>Anticorpos Detectados</h4>
            <p>Presença de anticorpos irregulares que exigem compatibilidade específica.</p>
        </div>
        <div class="alert blood-related">
            <h4>Fenótipo Raro</h4>
            <p>Fenótipo sanguíneo raro identificado: CcD.eeK-.</p>
        </div>
    </div>
</div>

<script>
    function openTab(evt, tabId) {
        // Esconde todos os conteúdos
        const contents = document.querySelectorAll('.tab-content');
        contents.forEach(content => content.style.display = 'none');

        // Remove a classe 'active' de todos os botões
        const buttons = document.querySelectorAll('.tab-btn');
        buttons.forEach(button => button.classList.remove('active'));

        // Mostra o conteúdo da aba selecionada
        document.getElementById(tabId).style.display = 'block';

        // Adiciona a classe 'active' ao botão clicado
        evt.currentTarget.classList.add('active');
    }
    // Função para visualizar detalhes da doação
    function viewDetails(donationCode) {
        alert(`Exibindo detalhes da doação: ${donationCode}`);
        // Substituir este alert por lógica real para exibir detalhes
    }

    // Função para imprimir detalhes da doação
    function printDonation(donationCode) {
        alert(`Imprimindo informações da doação: ${donationCode}`);
        // Substituir este alert por lógica real de impressão
    }
</script>

{% endblock %}
