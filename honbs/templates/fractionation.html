{% extends "logged.html" %}
{% block title %}
    Fracionamento
{% endblock %}
{% load static %}
{% block contents %}
<link rel="stylesheet" href="{% static 'css/fractionation.css' %}"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>

<br>
<div class="tabs-container">
    <button class="tab-btn active" onclick="showSection('production-section')">
        <i class="fas fa-hand-holding-medical"></i> Produção
    </button>
    <button class="tab-btn" onclick="showSection('batch-section')">
        <i class="fas fa-vials"></i> Lote
    </button>
</div>

<div class="production-section">
    <h1>Produção</h1>
    <br>
    <div class="table-container">
        <table id="soro-table">
            <thead>
                <tr>
                    <th>Doador</th>
                    <th>N° de Doadores/Doações</th>
                    <th>Tipo de Doação</th>
                    <th>Data da Doação</th>
                    <th>N° do Sangue</th>
                    <th>N° da Bolsa</th>
                    <th>Lote</th>
                    <th>Tipo de Bolsa</th>
                    <th>Teste de Ácido Nucleico</th>
                    <th>Anticoagulante/Solução</th>
                    <th>Tipo Coleta</th>
                    <th>Volume(ml)</th>
                    <th>Sexo</th>
                    <th>Apto</th>
                    <th>Produzido</th>
                    <th>Tempo de Coleta</th>
                    <th>Coletor</th>
                    <th>Fracionar Bolsa</th>
                    <th>Data de Recebimento</th>
                    <th>Sequência</th>
                </tr>
            </thead>
            <tbody>
                <tr onclick="redirectToprodHemo()">
                    <td>J.S.</td>
                    <td>553/02</td>
                    <td>Voluntária</td>
                    <td>2023-12-01</td>
                    <td>12345</td>
                    <td>987654</td>
                    <td>00AA00AA00</td>
                    <td>Dupla</td>
                    <td><i class="fas fa-check-circle" style="color: green;"></i></td>
                    <td>Citrato</td>
                    <td>Automática</td>
                    <td>450</td>
                    <td>Masculino</td>
                    <td><i class="fas fa-check-circle" style="color: green;"></i></td>
                    <td><i class="fas fa-check-circle" style="color: green;"></i></td>
                    <td>7 min</td>
                    <td>Dr. Silva</td>
                    <td><i class="fas fa-times-circle" style="color: red;"></i></td>
                    <td>2023-12-02</td>
                    <td>001</td>
                </tr>
                <tr onclick="redirectToprodHemo()">
                    <td>M.A.</td>
                    <td>554/01</td>
                    <td>Reposição</td>
                    <td>2023-12-02</td>
                    <td>54321</td>
                    <td>123456</td>
                    <td>11BB11BB11</td>
                    <td>Tripla</td>
                    <td><i class="fas fa-times-circle" style="color: red;"></i></td>
                    <td>Heparina</td>
                    <td>Manual</td>
                    <td>500</td>
                    <td>Feminino</td>
                    <td><i class="fas fa-check-circle" style="color: green;"></i></td>
                    <td><i class="fas fa-check-circle" style="color: green;"></i></td>
                    <td>10 min</td>
                    <td>Dra. Costa</td>
                    <td><i class="fas fa-check-circle" style="color: green;"></i></td>
                    <td>2023-12-03</td>
                    <td>002</td>
                </tr>
                <tr onclick="redirectToprodHemo()">
                    <td>R.T.</td>
                    <td>555/01</td>
                    <td>Doação OVG</td>
                    <td>2023-12-03</td>
                    <td>67890</td>
                    <td>654321</td>
                    <td>22CC22CC22</td>
                    <td>Quadrupla</td>
                    <td><i class="fas fa-check-circle" style="color: green;"></i></td>
                    <td>EDTA</td>
                    <td>Automática</td>
                    <td>600</td>
                    <td>Masculino</td>
                    <td><i class="fas fa-check-circle" style="color: green;"></i></td>
                    <td><i class="fas fa-times-circle" style="color: red;"></i></td>
                    <td>8 min</td>
                    <td>Dr. Lima</td>
                    <td><i class="fas fa-check-circle" style="color: green;"></i></td>
                    <td>2023-12-04</td>
                    <td>003</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="batch-section hidden">
    <h1>Lote da Hemoterapia</h1>
    <br>
    <div class="table-container">
        <table id="batch-table">
            <thead>
                <tr>
                    <th>Sequência</th>
                    <th>Data Inicial</th>
                    <th>Data Final</th>
                    <th>Data Geração</th>
                    <th>Data Saída</th>
                    <th>Temperatura Saída</th>
                    <th>Responsável Saída</th>
                    <th>Data Chegada</th>
                    <th>Temperatura Chegada</th>
                    <th>Responsável Chegada</th>
                    <th>Responsável Transporte</th>
                    <th>Quantidade de Amostras</th>
                    <th>Classificação</th>
                </tr>
            </thead>
            <tbody>
                <tr onclick="redirectTolote()">
                    <td>001</td>
                    <td>2023-12-01</td>
                    <td>2023-12-05</td>
                    <td>2023-12-06</td>
                    <td>2023-12-06</td>
                    <td>-5°C</td>
                    <td>Dr. João Silva</td>
                    <td>2023-12-07</td>
                    <td>-4°C</td>
                    <td>Dra. Maria Costa</td>
                    <td>Logística Hemovida</td>
                    <td>50</td>
                    <td>Sorologia/Imunohemato (Imunolab)</td>
                </tr>
                <tr onclick="redirectTolote()">
                    <td>002</td>
                    <td>2023-11-28</td>
                    <td>2023-12-02</td>
                    <td>2023-12-03</td>
                    <td>2023-12-03</td>
                    <td>2°C</td>
                    <td>Enf. Carlos Lima</td>
                    <td>2023-12-04</td>
                    <td>3°C</td>
                    <td>Enf. Ana Sousa</td>
                    <td>Transporte Seguro Ltda</td>
                    <td>40</td>
                    <td>Sorologia/Imunohemato (Imunolab)</td>
                </tr>
                <tr onclick="redirectTolote()">
                    <td>003</td>
                    <td>2023-12-01</td>
                    <td>2023-12-05</td>
                    <td>2023-12-06</td>
                    <td>2023-12-06</td>
                    <td>-30°C</td>
                    <td>Dr. Pedro Albuquerque</td>
                    <td>2023-12-07</td>
                    <td>-28°C</td>
                    <td>Dr. Renata Vieira</td>
                    <td>TransHemovida</td>
                    <td>60</td>
                    <td>Sorologia/Imunohemato (Imunolab)</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<script>
    function showSection(sectionClass) {
        // Esconde todas as seções
        const sections = document.querySelectorAll('.production-section, .batch-section');
        sections.forEach(section => section.classList.add('hidden'));

        // Remove a classe 'active' de todos os botões
        const buttons = document.querySelectorAll('.tab-btn');
        buttons.forEach(button => button.classList.remove('active'));

        // Mostra a seção clicada
        document.querySelector(`.${sectionClass}`).classList.remove('hidden');

        // Adiciona a classe 'active' ao botão clicado
        document.querySelector(`button[onclick="showSection('${sectionClass}')"]`).classList.add('active');
    }
    function redirectToprodHemo() {
        window.location.href = "{% url 'prodHemo' %}";
    }
    function redirectTolote() {
        window.location.href = "{% url 'batch' %}";
    }
</script>
{% endblock %}