{% extends "logged.html" %}
{% block title %}
    Detalhes da Transfusão
{% endblock %}
{% load static %}
{% block contents %}
<link rel="stylesheet" href="{% static 'css/infoTransfusion.css' %}"/>
<link rel="stylesheet" href="{% static 'css/header.css' %}"/>

<br>
<div class="back-button-container">
    <a href="{% url 'transfusion' %}" class="back-button">
        <i class="fas fa-arrow-left"></i> Voltar
    </a>
</div>
<br>
<div class="header">
    <div class="header-left">
        <h2>DOADOR</h2>
        <div class="header-left-grid">
            <div>
                <p><strong>Nome:</strong> João da Silva</p>
                <p><strong>Nome da Mãe:</strong> Maria da Silva</p>
            </div>
            <div>
                <p><strong>Data de Nasc.:</strong> 12/03/1985</p>
                <p><strong>Sexo:</strong> Masculino</p>
            </div>
        </div>
    </div>
    <div class="header-right">
        <h2 class="blood-type">AB+</h2>
    </div>
</div>
<br>
<div class="tab-container">
    <button class="tab-btn active" onclick="openTab(event, 'features-section')">
        Características
    </button>
    <button class="tab-btn" onclick="openTab(event, 'imuno-section')">
        Imuno/Hemato
    </button>
    <button class="tab-btn" onclick="openTab(event, 'transfusion-section')">
        Transfusões Anteriores
    </button>
    <button class="tab-btn" onclick="openTab(event, 'history-section')">
        Histórico de Saúde
    </button>
    <button class="tab-btn" onclick="openTab(event, 'alerts-section')">
        Alertas
    </button>
</div>

<div id="features-section" class="tab-content" style="display: block;">
    <h2>Características e Informações Complementares</h2>
    <br>
    <div class="checkbox-grid">
        <!-- Primeira Coluna -->
        <div class="checkbox-column">
            <label><input type="checkbox" name="feature1"> Recebe Hemocomponente Irradiado</label>
            <label><input type="checkbox" name="feature2"> Recebe Pré Medicação</label>
            <label><input type="checkbox" name="feature3"> Recebe alerta por SMS</label>
            <label><input type="checkbox" name="feature4"> Refratariedade Plaquetas</label>
        </div>
        <!-- Segunda Coluna -->
        <div class="checkbox-column">
            <label><input type="checkbox" name="feature5"> Recebe Hemocomponente Filtrado</label>
            <label><input type="checkbox" name="feature6"> Insuficiência Renal Crônica (IRC)</label>
            <label><input type="checkbox" name="feature7"> Recebe alerta por Email</label>
            <label><input type="checkbox" name="feature8"> Possui outra caracteristica</label>
        </div>
        <!-- Terceira Coluna -->
        <div class="checkbox-column">
            <label><input type="checkbox" name="feature9"> Recebe Hemocomponente Lavado</label>
            <label><input type="checkbox" name="feature10"> Recém Nascido</label>
            <label><input type="checkbox" name="feature11"> TMO Não Isogrupo</label>
            <label><input type="checkbox" name="feature12"> Incidente Transfusional</label>
        </div>
        <!-- Quarta Coluna -->
        <div class="checkbox-column">
            <label><input type="checkbox" name="feature13"> Fenotipado</label>
        </div>
    </div>
</div>

<div class="imuno-section tab-content" id="imuno-section" style="display: none;">
    Imuno/Hemato
</div>
<div class="transfusion-section tab-content" id="transfusion-section" style="display: none;">
    Transfusões Anteriores
</div>
<div class="history-section tab-content" id="history-section" style="display: none;">
    Histórico de Saúde
</div>
<div class="alerts-section tab-content" id="alerts-section" style="display: none;">
    <h3>Alertas Transfusionais</h3>
    <br>
    <div class="alert-container">
        <div class="alert blood-related">
            <h4>Incompatibilidade ABO</h4>
            <p>Atenção: Tipo sanguíneo do receptor incompatível com o doador.</p>
        </div>
        <div class="alert transfusional">
            <h4>Imunização por Transfusões Repetidas</h4>
            <p>Risco elevado devido à imunização após transfusões múltiplas.</p>
        </div>
        <div class="alert blood-related">
            <h4>Anemia Grave</h4>
            <p>Recomenda-se suporte transfusional imediato.</p>
        </div>
        <div class="alert transfusional">
            <h4>Reação Hemolítica Aguda</h4>
            <p>Reação grave que pode ocorrer durante ou após a transfusão.</p>
        </div>
    </div>
</div>

<script>
    function openTab(evt, tabId) {
        // Esconde todos os conteúdos
        const contents = document.querySelectorAll('.tab-content');
        contents.forEach(content => content.style.display = 'none');

        // Remove a classe 'active' de todos os botões
        const buttons = document.querySelectorAll('.tab-btn');
        buttons.forEach(button => button.classList.remove('active'));

        // Mostra o conteúdo da aba selecionada
        document.getElementById(tabId).style.display = 'block';

        // Adiciona a classe 'active' ao botão clicado
        evt.currentTarget.classList.add('active');
    }
</script>
{% endblock %}